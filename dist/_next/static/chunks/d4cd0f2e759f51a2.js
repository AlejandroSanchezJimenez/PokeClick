(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,13809,e=>{"use strict";var t=e.i(43476),r=e.i(71645);let a={normal:"bg-gray-400",fire:"bg-orange-500",water:"bg-blue-500",grass:"bg-green-500",electric:"bg-yellow-400",ice:"bg-cyan-300",fighting:"bg-red-700",poison:"bg-purple-600",ground:"bg-yellow-600",flying:"bg-indigo-300",psychic:"bg-pink-500",bug:"bg-lime-500",rock:"bg-orange-900",ghost:"bg-indigo-700",dragon:"bg-indigo-800",dark:"bg-gray-700",steel:"bg-gray-500",fairy:"bg-pink-300"},l="pokedex";function n({cantidadPokemon:e=1,closePack:n}){let[s,i]=(0,r.useState)([]),[o,d]=(0,r.useState)(!0),c=(0,r.useRef)(!1),x=e=>{let t=["HP","ATK","SPA","DEF","SPD","SPE"].map(()=>Math.floor(32*Math.random()));if(e){let e=[0,1,2,3,4,5];for(let r=0;r<3;r++){let r=Math.floor(Math.random()*e.length);t[e[r]]=31,e.splice(r,1)}}let r=Math.round(t.reduce((e,t)=>e+t,0)/186*100);return{ivs:t,ivTotalPercent:r}},h=e=>{let t=localStorage.getItem(l),r=t?JSON.parse(t):{},{nombre:a,ivs:n,ivTotalPercent:s}=e;r[a]?(r[a].cantidad+=1,s>(r[a].ivTotalPercent||0)&&(r[a].ivs=n,r[a].ivTotalPercent=s),e.shiny&&(r[a].shiny=!0),e.habilidad.hidden&&(r[a].ha=!0)):r[a]={...e,cantidad:1},localStorage.setItem(l,JSON.stringify(r))},m=async()=>{try{let e=Math.floor(1025*Math.random())+1,t=.01>Math.random(),r=await fetch(`https://pokeapi.co/api/v2/pokemon/${e}`,{cache:"no-store"});if(!r.ok)return null;let a=await r.json(),l=await fetch(a.species.url,{cache:"no-store"}),n=await l.json(),s=t?a.sprites.other["official-artwork"].front_shiny||a.sprites.front_shiny:a.sprites.other["official-artwork"].front_default||a.sprites.front_default,i=a.abilities,o=i.filter(e=>e.is_hidden),d=i.filter(e=>!e.is_hidden),c=o.length>0&&.05>Math.random()?o[Math.floor(Math.random()*o.length)]:d[Math.floor(Math.random()*d.length)];return{nombre:a.name,id:a.id,tipos:a.types.map(e=>e.type.name),imagen:s,shiny:t,habilidad:{nombre:c.ability.name,hidden:c.is_hidden},is_legendary:n.is_legendary}}catch(e){return console.error("Error fetching PokÃ©mon:",e),null}};return(0,r.useEffect)(()=>{c.current||(c.current=!0,(async()=>{d(!0),i([]);let t=[],r=new Set,a=0;for(;a<e;){let e=await m();if(!e||r.has(e.nombre))continue;r.add(e.nombre);let{ivs:l,ivTotalPercent:n}=x(e.is_legendary),s={...e,ivs:l,ivTotalPercent:n};h(s),t.push(s),a++}i(t),d(!1)})().catch(()=>{i([]),d(!1)}))},[e]),(0,t.jsxs)("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4",children:[(0,t.jsx)("button",{onClick:n,className:"absolute top-6 right-6 text-white text-5xl font-light hover:text-red-400 transition hover:cursor-pointer",children:"Ã—"}),(0,t.jsx)("div",{className:"w-full max-w-7xl bg-gradient-to-b from-gray-100 to-gray-200 dark:from-gray-900 dark:to-gray-800 rounded-3xl p-10 shadow-2xl overflow-x-auto",children:(0,t.jsx)("div",{className:"flex gap-10 justify-center min-w-max",children:o?(0,t.jsxs)("div",{className:"flex flex-col items-center py-32",children:[(0,t.jsx)("div",{className:"w-24 h-24 border-8 border-gray-300 border-t-red-600 rounded-full animate-spin mb-8"}),(0,t.jsx)("p",{className:"text-3xl font-bold text-gray-800 dark:text-white",children:"Abriendo Sobre..."})]}):s.map((e,r)=>(0,t.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 w-100vh flex flex-col items-center shadow-xl",style:{animation:"fadeInUp 0.8s ease-out",animationDelay:`${.3*r}s`},children:[(0,t.jsxs)("div",{className:"relative w-48 h-48 mb-6",children:[e.shiny&&(0,t.jsx)("img",{src:"/images/stars.gif",alt:"Shiny",className:"absolute inset-0 w-full h-full object-cover pointer-events-none animate-pulse opacity-80"}),(0,t.jsx)("img",{src:e.imagen,alt:e.nombre,className:"relative z-10 w-full h-full object-contain drop-shadow-2xl"})]}),(0,t.jsxs)("h2",{className:"text-2xl font-bold capitalize text-gray-900 dark:text-white mb-2",children:[e.nombre," #",e.id,e.shiny&&(0,t.jsx)("span",{className:"ml-3 text-yellow-400 text-xl",children:"âœ¨ Shiny âœ¨"})]}),(0,t.jsx)("div",{className:"flex gap-3 mb-6",children:e.tipos.map(e=>(0,t.jsx)("span",{className:`px-5 py-2 rounded-full text-white font-semibold text-sm ${a[e]||"bg-gray-400"}`,children:e},e))}),(0,t.jsxs)("div",{className:"w-full max-w-xs",children:[(0,t.jsx)("div",{className:"grid grid-cols-6 gap-3 text-xs font-bold text-gray-600 dark:text-gray-400 mb-3",children:["HP","ATK","SPA","DEF","SPD","SPE"].map(e=>(0,t.jsx)("span",{className:"text-center",children:e},e))}),(0,t.jsx)("div",{className:"grid grid-cols-6 gap-3 mb-5",children:e.ivs.map((e,r)=>(0,t.jsx)("span",{className:`text-center text-2xl font-bold ${31===e?"text-green-500":"text-gray-800 dark:text-white"}`,children:e},r))}),(0,t.jsxs)("p",{className:`text-center text-2xl font-bold ${100===e.ivTotalPercent?"text-yellow-500":e.ivTotalPercent>90?"text-purple-500":"text-gray-700 dark:text-gray-300"}`,children:["IV: ",e.ivTotalPercent,"%"]})]})]},`${e.id}-${r}`))})})]})}e.s(["default",()=>n])},95736,15732,e=>{"use strict";var t=e.i(43476);function r({coins:e}){return(0,t.jsxs)("div",{className:"fixed top-6 right-6 bg-yellow-400 text-black font-bold px-6 py-3 rounded-full shadow-lg text-xl hover:scale-105",children:["ðŸ’° ",e," Coins"]})}e.s(["default",()=>r],95736);var a=e.i(71645);function l(e){let[t,r]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t;if(!e)return;let a=`wallet_${e}`;(t=localStorage.getItem(a))&&queueMicrotask(()=>r(parseInt(t,10)))},[e]),{coins:t,addCoins:t=>{if(!e)return;let a=`wallet_${e}`;r(e=>{let r=e+t;return localStorage.setItem(a,r),r})},spendCoins:t=>{if(!e)return;let a=`wallet_${e}`;r(e=>{let r=Math.max(e-t,0);return localStorage.setItem(a,r),r})}}}e.s(["useWallet",()=>l],15732)},81694,e=>{"use strict";var t=e.i(43476),r=e.i(71645);function a({addCoins:e,coinsPerClick:a=1}){let[l,n]=(0,r.useState)(0);return(0,t.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,t.jsx)("button",{onClick:()=>{n(e=>e+1),e&&e(a)},className:"   w-64 h-64   rounded-full   bg-red-500   text-white   text-4xl font-bold   shadow-lg   transition-transform   active:scale-95   hover:scale-95   hover:cursor-pointer   ",children:"CLICK ME"})})}var l=e.i(13809);function n(){let[e,a]=(0,r.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>window.location.href="/Shop",className:"fixed bottom-0 right-0 m-10 bg-yellow-400 text-black font-bold px-6 py-3 rounded-full shadow-lg text-xl hover:scale-105 hover:cursor-pointer",children:"Abrir Tienda"}),e&&(0,t.jsx)(l.default,{onClose:()=>a(!1)})]})}var s=e.i(95736),i=e.i(15732);let o={1:{name:"GeneraciÃ³n I",range:[1,151]},2:{name:"GeneraciÃ³n II",range:[152,251]},3:{name:"GeneraciÃ³n III",range:[252,386]},4:{name:"GeneraciÃ³n IV",range:[387,493]},5:{name:"GeneraciÃ³n V",range:[494,649]},6:{name:"GeneraciÃ³n VI",range:[650,721]},7:{name:"GeneraciÃ³n VII",range:[722,809]},8:{name:"GeneraciÃ³n VIII",range:[810,898]},9:{name:"GeneraciÃ³n IX",range:[899,1008]}};function d({onClose:e}){let[a]=(0,r.useState)(()=>JSON.parse(localStorage.getItem("pokedex")||"{}")),[l,n]=(0,r.useState)({}),[s,i]=(0,r.useState)(null),d=Object.values(o).reduce((e,t)=>e+(t.range[1]-t.range[0]+1),0),c=Object.values(a).filter(e=>e.cantidad>0).length,x=(c/d*100).toFixed(1);return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 bg-black/70 flex justify-center items-start overflow-auto pt-8",children:[(0,t.jsxs)("div",{className:"bg-red-100 w-full max-w-6xl rounded-lg shadow-lg p-6 relative border-4 border-red-600",children:[(0,t.jsx)("button",{onClick:e,className:"absolute top-4 right-4 text-2xl font-bold text-black hover:text-red-700 cursor-pointer",children:"âœ•"}),(0,t.jsxs)("h2",{className:"text-3xl font-bold mb-4 text-center text-black",children:["Pokedex - ",c,"/",d," Capturados (",x,"%)"]}),(0,t.jsx)("div",{className:"space-y-4",children:Object.values(o).map(e=>{let r=e.range[1]-e.range[0]+1,s=Object.values(a).filter(t=>t.id>=e.range[0]&&t.id<=e.range[1]&&t.cantidad>0),o=s.length,d=s.filter(e=>e.shiny).length;return(0,t.jsxs)("div",{className:"border rounded-lg p-2 bg-red-50 border-red-400",children:[(0,t.jsxs)("button",{onClick:()=>{let t;return t=e.name,n(e=>({...e,[t]:!e[t]}))},className:"w-full text-left font-bold py-2 px-4 bg-red-300 text-black rounded hover:bg-red-400 transition cursor-pointer",children:[e.name," - ",o,"/",r," Capturados - ",d," ","Shiny"]}),l[e.name]&&(0,t.jsx)("div",{className:"grid grid-cols-6 gap-2 mt-2",children:Array.from({length:r},(r,l)=>{let n=e.range[0]+l,s=Object.values(a).find(e=>e.id===n);return(0,t.jsxs)("div",{onClick:()=>s&&i(s),className:`flex flex-col items-center justify-center border p-1 rounded hover:shadow cursor-pointer ${s&&s.cantidad>0?"bg-red-50 border-red-200":"bg-red-200 border-red-400"}`,children:[s&&s.cantidad>0?(0,t.jsx)("img",{src:s.shiny&&s.shinyUrl||s.imagen,alt:s.nombre,className:"w-16 h-16 object-contain"}):(0,t.jsxs)("span",{className:"text-2xl font-bold text-gray-700",children:["#",n]}),(0,t.jsx)("span",{className:"text-xs mt-1 text-black",children:s?s.nombre.toUpperCase():""})]},n)})})]},e.name)})})]}),s&&(0,t.jsx)("div",{className:"fixed inset-0 z-60 bg-black/70 flex justify-center items-center p-4",children:(0,t.jsxs)("div",{className:"bg-red-50 rounded-lg p-6 w-full max-w-md relative border-4 border-red-600",children:[(0,t.jsx)("button",{onClick:()=>i(null),className:"absolute top-4 right-4 text-xl font-bold text-black hover:text-red-700 cursor-pointer",children:"âœ•"}),(0,t.jsxs)("h3",{className:"text-2xl font-bold mb-2 text-center text-black",children:[s.nombre.toUpperCase()," ",s.shiny&&"âœ¨"]}),(0,t.jsx)("img",{src:s.shiny&&s.shinyUrl||s.imagen,alt:s.nombre,className:"w-32 h-32 mx-auto mb-4 object-contain"}),(0,t.jsxs)("div",{className:"text-black",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"ID:"})," ",s.id]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Tipos:"})," ",s.tipos.join(", ")]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Habilidad:"})," ",s.habilidad.nombre," ",s.habilidad.hidden&&"(Hidden)"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Legendario:"})," ",s.is_legendary?"SÃ­":"No"]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Cantidad:"})," ",s.cantidad]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"IVs:"})," ",s.ivs.join(", ")," (",s.ivTotalPercent,"%)"]})]})]})})]})}function c(){let[e,l]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=localStorage.getItem("user_id");e||(e=crypto.randomUUID(),localStorage.setItem("user_id",e)),setTimeout(()=>l(e),0)},[]);let{coins:x,addCoins:h}=(0,i.useWallet)(e);return e?(0,t.jsxs)("main",{className:"relative min-h-screen overflow-hidden",children:[(0,t.jsx)("div",{className:"absolute inset-0 -z-10 bg-diagonal"}),(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[(0,t.jsx)(s.default,{coins:x}),(0,t.jsx)(a,{addCoins:h,coinsPerClick:1}),(0,t.jsx)("div",{className:"fixed left-6 top-6",children:(0,t.jsx)("button",{className:" bg-yellow-400 text-black font-bold px-6 py-3 rounded-full shadow-lg text-xl hover:scale-105 hover:cursor-pointer",onClick:()=>c(e=>!e),children:o?"Cerrar Pokedex":"Abrir Pokedex"})}),o&&(0,t.jsx)(d,{onClose:()=>c(!1)}),(0,t.jsx)("div",{className:"mt-16",children:(0,t.jsx)(n,{})})]})]}):null}e.s(["default",()=>c],81694)}]);